{
  "name": "product-plugin",
  "version": "1.0.0",
  "description": "ProductPlugin plugin for modu-nest with product management and access controls",
  "author": "Plugin Developer",
  "license": "MIT",
  "dependencies": ["user-plugin"],
  "loadOrder": 200,
  "critical": false,
  "security": {
    "trustLevel": "internal",
    "fileAccess": {
      "canRead": true,
      "canWrite": true,
      "canDelete": true,
      "canList": true,
      "allowedPaths": ["./plugins/product-plugin/temp", "./uploads/products"],
      "allowedExtensions": [".json", ".txt", ".csv", ".jpg", ".png"],
      "maxFileSize": 10485760
    }
  },
  "permissions": {
    "services": ["database", "UserPluginService", "logging"],
    "modules": ["sharp", "multer"],
    "environment": {
      "canReadEnvVars": true,
      "allowedEnvVars": ["PRODUCT_STORAGE_PATH", "MAX_PRODUCT_IMAGES"]
    }
  },
  "config": {
    "maxProducts": 50000,
    "imageProcessing": {
      "maxWidth": 1920,
      "maxHeight": 1080,
      "quality": 85
    },
    "categories": ["electronics", "clothing", "books", "home"]
  },
  "module": {
    "controllers": ["ProductPluginController"],
    "providers": ["ProductPluginService"],
    "exports": ["ProductPluginService"],
    "guards": [
      {
        "name": "product-access",
        "class": "ProductAccessGuard",
        "description": "Guard for product access control",
        "source": "product-plugin",
        "exported": true,
        "scope": "local"
      },
      {
        "name": "product-ownership",
        "class": "ProductOwnershipGuard",
        "description": "Ensures users can only modify products they own",
        "source": "product-plugin",
        "dependencies": ["user-auth", "product-access"],
        "scope": "local"
      },
      {
        "name": "user-auth",
        "source": "user-plugin",
        "description": "Checks if user is authenticated",
        "scope": "external"
      }
    ]
  }
}
